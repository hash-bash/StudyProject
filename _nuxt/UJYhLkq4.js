import{u as te}from"./CY7kRgTw.js";import{_ as ne,r as b,J as oe,o as ae,F as le,i as y,g as s,K as k,t as u,A as l,z as a,L,v as x,M as F,y as r,N as se,O as ie,B as c,x as m}from"./DvF2qJcu.js";const re={key:0},_e={key:1},ue={key:3},T=6,ce={__name:"index",async setup(me){let g,D;const p=b(""),_=b("Total Pulls"),d=b(""),v=b(1),f=b(JSON.parse(localStorage.getItem("favorites"))||[]),B=["Total Pulls","Name","Creation Date","Last Updated"],I=b(["All"]),{data:N,pending:O,error:P}=([g,D]=oe(()=>te("/combined_metadata.json","$PslAyef5YX")),g=await g,D(),g);ae(()=>{const e=new Set;N.value.forEach(t=>{t.combined_meta.biocontainers__license&&e.add(t.combined_meta.biocontainers__license)}),I.value=["All",...Array.from(e)]}),le([p,_,d],()=>{v.value=1});const V=y(()=>{let e=Array.isArray(N.value)?N.value:[];return e=e.filter(t=>Object.keys(t.combined_meta).length>0),d.value&&d.value!=="All"&&(e=e.filter(t=>t.combined_meta.biocontainers__license===d.value)),p.value&&(e=e.filter(t=>t.tool_name.toLowerCase().includes(p.value.toLowerCase()))),_.value==="Name"?e.sort((t,o)=>t.tool_name.localeCompare(o.tool_name)):_.value==="Total Pulls"?e.sort((t,o)=>{const i=t.combined_meta.biocontainers__total_pulls||0;return(o.combined_meta.biocontainers__total_pulls||0)-i}):_.value==="Creation Date"?e.sort((t,o)=>new Date(t.combined_meta.biotools__addition_date)-new Date(o.combined_meta.biotools__addition_date)):_.value==="Last Updated"&&e.sort((t,o)=>new Date(t.combined_meta.biotools__last_update_date)-new Date(o.combined_meta.biotools__last_update_date)),e}),C=y(()=>Math.ceil(V.value.length/T)),M=y(()=>{const e=(v.value-1)*T;return V.value.slice(e,e+T)}),h=()=>{v.value=1},E=e=>{A(e)?f.value=f.value.filter(t=>t.search_index!==e.search_index):f.value.push(e),localStorage.setItem("favorites",JSON.stringify(f.value))},A=e=>f.value.some(t=>t.search_index===e.search_index),S=y(()=>{const e=C.value,t=v.value,o=[];o.push(1);for(let i=Math.max(t-2,2);i<Math.min(t+3,e);i++)o.push(i);return e>1&&!o.includes(e)&&o.push(e),o}),J=e=>e.combined_meta.bioschemas__name||e.combined_meta.biocontainers__name||e.combined_meta.bioconda__name||e.tool_name||"No Name",$=e=>e.combined_meta.biocontainers__summary||e.combined_meta.bioconda__summary||e.combined_meta.biotools__summary||"No Description",j=e=>e.combined_meta.biocontainers__license||e.combined_meta.bioconda__license||e.combined_meta.bioschemas__license||"No License Info",K=e=>e.combined_meta.bioconda__version||e.combined_meta.biocontainers__version||e.combined_meta.bioschemas__version||"No Version Info",z=e=>e.combined_meta.biocontainers__total_pulls||e.combined_meta.bioconda__total_pulls||e.combined_meta.bioschemas__total_pulls||"No Total Pulls",Q=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(e,t)=>{const o=s("v-text-field"),i=s("v-col"),w=s("v-select"),U=s("v-row"),X=s("router-link"),Y=s("v-card-title"),q=s("v-card-subtitle"),G=s("v-card-text"),H=s("v-btn"),R=s("v-card-actions"),W=s("v-card"),Z=s("v-pagination"),ee=s("v-container");return u(),k(ee,null,{default:l(()=>[a(U,null,{default:l(()=>[a(i,{cols:"12",md:"4"},{default:l(()=>[a(o,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=n=>p.value=n),label:"Search Tools...",onInput:h},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"4"},{default:l(()=>[a(w,{modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=n=>_.value=n),items:B,label:"Sort By",onInput:h},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"4"},{default:l(()=>[a(w,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=n=>d.value=n),items:I.value,label:"Filter by License",onInput:h},null,8,["modelValue","items"])]),_:1})]),_:1}),L(O)?(u(),x("div",re,"Fetching the bio tools data, please wait.")):F("",!0),L(P)?(u(),x("div",_e,"Error fetching items: "+r(L(P).message),1)):F("",!0),V.value.length?(u(),k(U,{key:2},{default:l(()=>[(u(!0),x(ie,null,se(M.value,n=>(u(),k(i,{cols:"12",md:"4",key:n.search_index},{default:l(()=>[a(W,null,{default:l(()=>[a(Y,null,{default:l(()=>[a(X,{to:`/tool/${n.search_index}`},{default:l(()=>[c(r(J(n)),1)]),_:2},1032,["to"])]),_:2},1024),a(q,null,{default:l(()=>[c(r($(n)),1)]),_:2},1024),a(G,null,{default:l(()=>[t[4]||(t[4]=m("strong",null,"License:",-1)),c(" "+r(j(n)),1),t[5]||(t[5]=m("br",null,null,-1)),t[6]||(t[6]=m("strong",null,"Version:",-1)),c(" "+r(K(n)),1),t[7]||(t[7]=m("br",null,null,-1)),t[8]||(t[8]=m("strong",null,"Total Pulls:",-1)),c(" "+r(z(n)),1),t[9]||(t[9]=m("br",null,null,-1)),t[10]||(t[10]=m("strong",null,"Last Updated:",-1)),c(" "+r(n.combined_meta.biotools__last_update_date?Q(n.combined_meta.biotools__last_update_date):"No Last Update Info"),1)]),_:2},1024),a(R,null,{default:l(()=>[a(H,{onClick:de=>E(n)},{default:l(()=>[c(r(A(n)?"Unfavorite":"Favorite"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),x("div",ue,"No tools found.")),a(Z,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=n=>v.value=n),length:C.value,"total-visible":S.value.length,"page-nums":S.value},null,8,["modelValue","length","total-visible","page-nums"])]),_:1})}}},pe=ne(ce,[["__scopeId","data-v-66353b86"]]);export{pe as default};

import{u as H}from"./Ddr5EzrR.js";import{_ as R,r as p,J as W,o as Z,F as ee,i as y,g as s,K as k,t as _,A as l,z as a,L,v as x,M as B,y as u,N as te,O as oe,B as d,x as c}from"./Dt_s6Ky3.js";const ne={key:0},ae={key:1},le={key:3},N=6,se={__name:"index",async setup(ie){let g,C;const f=p(""),i=p("Name"),m=p(""),v=p(1),b=p(JSON.parse(localStorage.getItem("favorites"))||[]),M=["Name","License","Total Pulls","Creation Date","Last Updated"],D=p(["All"]),{data:V,pending:O,error:P}=([g,C]=W(()=>H("/combined_metadata.json","$PslAyef5YX")),g=await g,C(),g);Z(()=>{const t=new Set;V.value.forEach(e=>{e.combined_meta.biocontainers__license&&t.add(e.combined_meta.biocontainers__license)}),D.value=["All",...Array.from(t)]}),ee([f,i,m],()=>{v.value=1});const w=y(()=>{let t=Array.isArray(V.value)?V.value:[];return m.value&&m.value!=="All"&&(t=t.filter(e=>e.combined_meta.biocontainers__license===m.value)),f.value&&(t=t.filter(e=>e.tool_path.toLowerCase().includes(f.value.toLowerCase()))),i.value==="Name"?t.sort((e,n)=>e.tool_path.localeCompare(n.tool_path)):i.value==="License"?t.sort((e,n)=>e.combined_meta.biocontainers__license.localeCompare(n.combined_meta.biocontainers__license)):i.value==="Total Pulls"?t.sort((e,n)=>n.combined_meta.biocontainers__total_pulls-e.combined_meta.biocontainers__total_pulls):i.value==="Creation Date"?t.sort((e,n)=>new Date(e.combined_meta.biotools__addition_date)-new Date(n.combined_meta.biotools__addition_date)):i.value==="Last Updated"&&t.sort((e,n)=>new Date(e.combined_meta.biotools__last_update_date)-new Date(n.combined_meta.biotools__last_update_date)),t}),S=y(()=>Math.ceil(w.value.length/N)),T=y(()=>{const t=(v.value-1)*N;return w.value.slice(t,t+N)}),h=()=>{v.value=1},E=t=>{A(t)?b.value=b.value.filter(e=>e.search_index!==t.search_index):b.value.push(t),localStorage.setItem("favorites",JSON.stringify(b.value))},A=t=>b.value.some(e=>e.search_index===t.search_index),I=y(()=>{const t=S.value,e=v.value,n=[];n.push(1);for(let r=Math.max(e-2,2);r<Math.min(e+3,t);r++)n.push(r);return t>1&&!n.includes(t)&&n.push(t),n}),J=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(t,e)=>{const n=s("v-text-field"),r=s("v-col"),U=s("v-select"),F=s("v-row"),$=s("router-link"),K=s("v-card-title"),j=s("v-card-subtitle"),z=s("v-card-text"),Q=s("v-btn"),X=s("v-card-actions"),Y=s("v-card"),q=s("v-pagination"),G=s("v-container");return _(),k(G,null,{default:l(()=>[a(F,null,{default:l(()=>[a(r,{cols:"12",md:"4"},{default:l(()=>[a(n,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=o=>f.value=o),label:"Search Tools...",onInput:h},null,8,["modelValue"])]),_:1}),a(r,{cols:"12",md:"4"},{default:l(()=>[a(U,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),items:M,label:"Sort By",onInput:h},null,8,["modelValue"])]),_:1}),a(r,{cols:"12",md:"4"},{default:l(()=>[a(U,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),items:D.value,label:"Filter by License",onInput:h},null,8,["modelValue","items"])]),_:1})]),_:1}),L(O)?(_(),x("div",ne,"Loading items...")):B("",!0),L(P)?(_(),x("div",ae,"Error fetching items: "+u(L(P).message),1)):B("",!0),w.value.length?(_(),k(F,{key:2},{default:l(()=>[(_(!0),x(oe,null,te(T.value,o=>(_(),k(r,{cols:"12",md:"4",key:o.search_index},{default:l(()=>[a(Y,null,{default:l(()=>[a(K,null,{default:l(()=>[a($,{to:`/tool/${o.search_index}`},{default:l(()=>[d(u(o.tool_path),1)]),_:2},1032,["to"])]),_:2},1024),a(j,null,{default:l(()=>[d(u(o.combined_meta.biocontainers__summary||"No Description Provided"),1)]),_:2},1024),a(z,null,{default:l(()=>[e[4]||(e[4]=c("strong",null,"License:",-1)),d(" "+u(o.combined_meta.biocontainers__license),1),e[5]||(e[5]=c("br",null,null,-1)),e[6]||(e[6]=c("strong",null,"Version:",-1)),d(" "+u(o.combined_meta.bioconda__version),1),e[7]||(e[7]=c("br",null,null,-1)),e[8]||(e[8]=c("strong",null,"Total Pulls:",-1)),d(" "+u(o.combined_meta.biocontainers__total_pulls),1),e[9]||(e[9]=c("br",null,null,-1)),e[10]||(e[10]=c("strong",null,"Last Updated:",-1)),d(" "+u(J(o.combined_meta.biotools__last_update_date)),1)]),_:2},1024),a(X,null,{default:l(()=>[a(Q,{onClick:re=>E(o)},{default:l(()=>[d(u(A(o)?"Unfavorite":"Favorite"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(_(),x("div",le,"No tools found.")),a(q,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),length:S.value,"total-visible":I.value.length,"page-nums":I.value},null,8,["modelValue","length","total-visible","page-nums"])]),_:1})}}},de=R(se,[["__scopeId","data-v-cd4cd233"]]);export{de as default};
